!function e(t,n,r){function o(u,s){if(!n[u]){if(!t[u]){var a="function"==typeof require&&require;if(!s&&a)return a(u,!0);if(i)return i(u,!0);throw new Error("Cannot find module '"+u+"'")}var c=n[u]={exports:{}};t[u][0].call(c.exports,function(e){var n=t[u][1][e];return o(n?n:e)},c,c.exports,e,t,n,r)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(e,t,n){"use strict";function r(e,t,n){e.request({method:"POST",url:"_index",body:t},n)}function o(e,t,n){e.request({method:"POST",url:"_find",body:t},n)}function i(e,t){e.request({method:"GET",url:"_index"},t)}function u(e,t,n){var r=t.ddoc,o=t.type||"json",i=t.name;if(!r)return n(null,new Error("you must provide an index's ddoc"));if(!i)return n(null,new Error("you must provide an index's name"));var u="_index/"+[r,o,i].map(encodeURIComponent).join("/");e.request({method:"DELETE",url:u},n)}n.createIndex=r,n.find=o,n.getIndexes=i,n.deleteIndex=u},{}],2:[function(e,t){"use strict";function n(e,t){return function(n){for(var r=[],o=0,i=e.length;i>o;o++){for(var u=f(e[o]),s=n,a=0,c=u.length;c>a;a++){var l=u[a];if(s=s[l],!s)break}r.push(s)}t(r)}}function r(e,t){var n=f(e);return function(e){for(var r=e,o=0,i=n.length;i>o;o++){var u=n[o];if(r=r[u],!r)return}t(r)}}function o(e,t){return function(n){t(n[e])}}function i(e,t){return function(n){for(var r=[],o=0,i=e.length;i>o;o++)r.push(n[e[o]]);t(r)}}function u(e){for(var t=0,n=e.length;n>t;t++){var r=e[t];if(-1!==r.indexOf("."))return!1}return!0}function s(e,t){var s=u(e),a=1===e.length;return s?a?o(e[0],t):i(e,t):a?r(e[0],t):n(e,t)}var a=e("./utils"),c=e("pouchdb-abstract-mapreduce"),f=a.parseField,l=c({name:"indexes",mapper:function(e,t){var n=Object.keys(e.fields);return s(n,t)},reducer:function(){throw new Error("reduce not supported")},ddocValidator:function(e,t){var n=e.views[t];if(!n.map||!n.map.fields)throw new Error("ddoc "+e._id+" with view "+t+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")}});t.exports=l},{"./utils":10,"pouchdb-abstract-mapreduce":40}],3:[function(e,t){"use strict";function n(e,t,n){return u.upsert.call(e,t,n)}function r(e,t){function r(e){return e._rev&&"query"!==e.language&&(h=!0),e.language="query",e.views=e.views||{},y=!!e.views[l],e.views[l]={map:{fields:o.mergeObjects(t.index.fields)},reduce:"_count",options:{def:u}},e}var u=o.clone(t.index);t.index=f(t.index),c(t.index);var a=o.MD5(JSON.stringify(t)),l=t.name||"idx-"+a,d=t.ddoc||"idx-"+a,p="_design/"+d,h=!1,y=!1;return i("creating index",p),n(e,p,r).then(function(){if(h)throw new Error('invalid language for ddoc with id "'+p+'" (should be "query")')}).then(function(){var t=d+"/"+l;return s.query.call(e,t,{limit:0,reduce:!1}).then(function(){return{result:y?"exists":"created"}})})}var o=e("../../../utils"),i=o.log,u=e("pouchdb-upsert"),s=e("../abstract-mapper"),a=e("../utils"),c=a.validateIndex,f=a.massageIndexDef;t.exports=r},{"../../../utils":12,"../abstract-mapper":2,"../utils":10,"pouchdb-upsert":47}],4:[function(e,t){"use strict";function n(e,t){var n=t.ddoc;return e.get(n).then(function(t){return e.remove(t)}).then(function(){return r.viewCleanup.apply(e)}).then(function(){return{ok:!0}})}var r=e("../abstract-mapper");t.exports=n},{"../abstract-mapper":2}],5:[function(e,t){"use strict";function n(e,t){for(var n=e,r=0,o=t.length;o>r;r++){var i=t[r];if(n=n[i],!n)break}return n}function r(e,t,r){function o(e){return s(n(e,r),t)}function i(e){var t=n(e,r);return"undefined"!=typeof t&&null!==t}switch(e){case"$eq":return function(e){return i(e)&&0===o(e)};case"$lte":return function(e){return i(e)&&o(e)<=0};case"$gte":return function(e){return i(e)&&o(e)>=0};case"$lt":return function(e){return i(e)&&o(e)<0};case"$gt":return function(e){return i(e)&&o(e)>0};case"$exists":return function(e){return i(e)};case"$ne":return function(e){var o=n(e,r);return t.every(function(e){return 0!==s(o,e)})}}}function o(e,t){var n=[];return t.forEach(function(t){var o=e.selector[t],i=l(t);o&&Object.keys(o).forEach(function(e){var t=o[e],u=r(e,t,i);n.push(u)})}),function(e){for(var t=0,r=n.length;r>t;t++){var o=n[t];if(!o(e.doc))return!1}return!0}}function i(e){function t(t){return e.map(function(e){var r="string"==typeof e?e:c(e),o=l(r),i=n(t,o);return i})}return function(e,n){var r=t(e.doc),o=t(n.doc),i=s(r,o);return 0!==i?i:d.compare(e.doc._id,n.doc._id)}}function u(e,t,n){var r=o(t,n);if(e=e.filter(r),t.sort){var u=i(t.sort);e=e.sort(u),"string"!=typeof t.sort[0]&&"desc"===f(t.sort[0])&&(e=e.reverse())}if("limit"in t||"skip"in t){var s=t.skip||0,a=("limit"in t?t.limit:e.length)+s;e=e.slice(s,a)}return e}var s=e("pouchdb-collate").collate,a=e("../utils"),c=a.getKey,f=a.getValue,l=a.parseField,d=e("../../../utils");t.exports=u},{"../../../utils":12,"../utils":10,"pouchdb-collate":44}],6:[function(e,t){"use strict";function n(e){return e.ddoc.substring(8)+"/"+e.name}function r(e,t){return t.selector&&(t.selector=l(t.selector)),t.sort&&(t.sort=d(t.sort)),h(t),i(e).then(function(r){var i=a(t,r.indexes),c=i.index,l=o.extend(!0,{include_docs:!0,reduce:!1},i.queryOpts);if("startkey"in l&&"endkey"in l&&u(l.startkey,l.endkey)>0)return{docs:[]};var d=t.sort&&"string"!=typeof t.sort[0]&&"desc"===p(t.sort[0]);return d&&(l.descending=!0,l=y(l)),i.inMemoryFields.length||("limit"in t&&(l.limit=t.limit),"skip"in t&&(l.skip=t.skip)),v.resolve().then(function(){if("_all_docs"===c.name)return e.allDocs(l);var t=n(c);return s.query.call(e,t,l)}).then(function(e){return l.inclusive_start===!1&&(e.rows=g(e.rows,l.startkey,c)),i.inMemoryFields.length&&(e.rows=f(e.rows,t,i.inMemoryFields)),{docs:e.rows.map(function(e){var n=e.doc;return t.fields?o.pick(n,t.fields):n})}})})}var o=e("../../../utils"),i=e("../get-indexes"),u=e("pouchdb-collate").collate,s=e("../abstract-mapper"),a=e("./query-planner"),c=e("../utils"),f=e("./in-memory-filter"),l=c.massageSelector,d=c.massageSort,p=c.getValue,h=c.validateFindRequest,y=c.reverseOptions,g=c.filterInclusiveStart,v=o.Promise;t.exports=r},{"../../../utils":12,"../abstract-mapper":2,"../get-indexes":8,"../utils":10,"./in-memory-filter":5,"./query-planner":7,"pouchdb-collate":44}],7:[function(e,t){"use strict";function n(e,t){for(var n=e.def.fields.map(E),r=0,o=n.length;o>r;r++){var i=n[r];if(t===i)return!0}return!1}function r(e,t){var n=e[t],r=E(n);return"$eq"!==r}function o(e,t){var n=t.def.fields.map(E);return e.slice().sort(function(e,t){var r=n.indexOf(e),o=n.indexOf(t);return-1===r&&(r=Number.MAX_VALUE),-1===o&&(o=Number.MAX_VALUE),w.compare(r,o)})}function i(e,t,i){i=o(i,e);for(var u=!1,s=0,a=i.length;a>s;s++){var c=i[s];if(u||!n(e,c))return i.slice(s);a-1>s&&r(t,c)&&(u=!0)}return[]}function u(e){var t=[];return Object.keys(e).forEach(function(n){var r=e[n];Object.keys(r).forEach(function(e){"$ne"===e&&t.push(n)})}),t}function s(e,t,n,r){var s=w.flatten(e,i(t,n,r),u(n));return o(w.uniq(s),t)}function a(e,t,n){if(t){var r=w.oneArrayIsStrictSubArrayOfOther(t,e),o=w.oneArrayIsSubArrayOfOther(n,e);return r&&o}return w.oneSetIsSubArrayOfOther(n,e)}function c(e,t){var n=e[0],r=t[n],o=1===Object.keys(r).length&&"$ne"===E(r);return!o}function f(e,t,n,r){var o=e.def.fields.map(E),i=a(o,t,n);if(!i)return!1;var u=c(o,r);return u}function l(e,t,n,r){for(var o=[],i=0,u=r.length;u>i;i++){var s=r[i],a=f(s,n,t,e);a&&o.push(s)}return o}function d(e,t,n,r){function o(e){for(var t=e.def.fields.map(E),n=0,r=0,o=t.length;o>r;r++){var i=t[r];u[i]&&n++}return n}var i=l(e,t,n,r);if(0===i.length)return null;if(1===i.length)return i[0];var u=w.arrayToObject(t);return w.max(i,o)}function p(e,t){switch(e){case"$eq":return{key:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1};case"$exists":return t?{startkey:I}:{endkey:j};case"$type":switch(t){case"null":return{startkey:S,endkey:$};case"boolean":return{startkey:q,endkey:N};case"number":return{startkey:C,endkey:D};case"string":return{startkey:T,endkey:F};case"array":return{startkey:M,endkey:L};case"object":return{startkey:P,endkey:B}}}}function h(e,t){for(var n,r=E(t.def.fields[0]),o=e[r],i=Object.keys(o),u=0;u<i.length;u++){var s=i[u],a=o[s],c=p(s,a);n=n?w.mergeObjects([n,c]):c}return{queryOpts:n,inMemoryFields:[]}}function y(e,t){switch(e){case"$eq":return{startkey:t,endkey:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1};case"$exists":return t?{startkey:I,endkey:A}:{startkey:j,endkey:j}}}function g(e,t){function n(e){r!==!1&&s.push(j),o!==!1&&a.push(A),u=i.slice(e)}for(var r,o,i=t.def.fields.map(E),u=[],s=[],a=[],c=0,f=i.length;f>c;c++){var l=i[c],d=e[l];if(!d){n(c);break}if(c>0){if("$ne"in d){n(c);break}var p="$gt"in d||"$gte"in d||"$lt"in d||"$lte"in d,h=Object.keys(e[i[c-1]]),g=w.arrayEquals(h,["$eq"]),v=w.arrayEquals(h,Object.keys(d)),m=p&&!g&&!v;if(m){n(c);break}}for(var b=Object.keys(d),k=null,x=0;x<b.length;x++){var _=b[x],O=d[_],I=y(_,O);k=k?w.mergeObjects([k,I]):I}s.push("startkey"in k?k.startkey:j),a.push("endkey"in k?k.endkey:A),"inclusive_start"in k&&(r=k.inclusive_start),"inclusive_end"in k&&(o=k.inclusive_end)}var S={startkey:s,endkey:a};return"undefined"!=typeof r&&(S.inclusive_start=r),"undefined"!=typeof o&&(S.inclusive_end=o),{queryOpts:S,inMemoryFields:u}}function v(e,t){return 1===t.def.fields.length?h(e,t):g(e,t)}function m(e,t,n){if("$ne"===E(_(n)))return new Error("couldn't find a usable index. try using $and with $lt/$gt instead of $ne");var r=t&&t.length>=e.length?t:e;return new Error("couldn't find a usable index. try creating an index on: "+r.join(", "))}function b(e,t){k("planning query",e);var n=e.selector,r=e.sort,o=O(n,r),i=o.fields,u=o.sortOrder,a=d(n,i,u,t);if(!a)throw m(i,u,n);var c=a.def.fields[0],f=n[E(c)];if(1===Object.keys(f).length&&"$ne"===E(f))throw new Error("$ne can't be used here. try $gt/$lt instead");var l=v(n,a),p=l.queryOpts,h=l.inMemoryFields,y=s(h,a,n,i),g={queryOpts:p,index:a,inMemoryFields:y};return k("query plan",g),g}var w=e("../../../utils"),k=w.log,x=e("../utils"),E=x.getKey,_=x.getValue,O=x.getUserFields,j=null,A={"￿":{}},I=!1,S=null,$=null,q=!1,N=!0,C=0,D=Number.MAX_VALUE,T="",F="￿￿￿",M=[],L=[{"￿":{}}],P={},B={"￿":{}};t.exports=b},{"../../../utils":12,"../utils":10}],8:[function(e,t){"use strict";function n(e){return e.allDocs({startkey:"_design/",endkey:"_design/￿",include_docs:!0}).then(function(e){var t={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return t.indexes=r.flatten(t.indexes,e.rows.filter(function(e){return"query"===e.doc.language}).map(function(e){var t=Object.keys(e.doc.views);return t.map(function(t){var n=e.doc.views[t];return{ddoc:e.id,name:t,type:"json",def:i(n.options.def)}})})),t.indexes.sort(function(e,t){return r.compare(e.name,t.name)}),t})}var r=e("../../../utils"),o=e("../utils"),i=o.massageIndexDef;t.exports=n},{"../../../utils":12,"../utils":10}],9:[function(e,t,n){"use strict";var r=e("../../utils"),o=r.callbackify;n.createIndex=o(e("./create-index")),n.find=o(e("./find")),n.getIndexes=o(e("./get-indexes")),n.deleteIndex=o(e("./delete-index"))},{"../../utils":12,"./create-index":3,"./delete-index":4,"./find":6,"./get-indexes":8}],10:[function(e,t){"use strict";function n(e){return Object.keys(e)[0]}function r(e){return e[n(e)]}function o(e){return Object.keys(e).length}function i(e,t){var n={};return n[e]=t,n}function u(e){return e&&e.map(function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e})}function s(e,t,n){"undefined"==typeof n.$eq&&("undefined"!=typeof n.$gte?"$gte"===e?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):"undefined"!=typeof n.$gt?"$gte"===e?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t)}function a(e,t,n){"undefined"==typeof n.$eq&&("undefined"!=typeof n.$lte?"$lte"===e?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):"undefined"!=typeof n.$lt?"$lte"===e?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t)}function c(e,t){"undefined"==typeof t.$eq&&("$ne"in t?t.$ne.push(e):t.$ne=[e])}function f(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}function l(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(n){var r=e[n];"string"==typeof r&&(r={$eq:r});var o=t[n]=t[n]||{};Object.keys(r).forEach(function(e){var t=r[e];return"$gt"===e||"$gte"===e?s(e,t,o):"$lt"===e||"$lte"===e?a(e,t,o):"$ne"===e?c(t,o):"$eq"===e?f(t,o):void(o[e]=t)})})}),t}function d(e){var t=w.clone(e),n=!1;"$and"in t&&(t=l(t.$and),n=!0);for(var r=Object.keys(t),o=0;o<r.length;o++){var i=r[o],u=t[i];"string"==typeof u?u={$eq:u}:"$ne"in u&&!n&&(u.$ne=[u.$ne]),t[i]=u}return t}function p(e){return e.fields=e.fields.map(function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e}),e}function h(e,t,n){for(var r=n.def.fields,o=0,i=e.length;i>o;o++){var u=e[o],s=u.key,a=t;if(r.length>1&&(s=s[0],a=a[0]),k.collate(s,a)>0)break}return o>0?e.slice(o):e}function y(e){var t=w.clone(e);return delete t.startkey,delete t.endkey,delete t.inclusive_start,delete t.inclusive_end,"endkey"in e&&(t.startkey=e.endkey),"startkey"in e&&(t.endkey=e.startkey),"inclusive_start"in e&&(t.inclusive_end=e.inclusive_start),"inclusive_end"in e&&(t.inclusive_start=e.inclusive_end),t}function g(e){var t=e.fields.filter(function(e){return"asc"===r(e)});if(0!==t.length&&t.length!==e.fields.length)throw new Error("unsupported mixed sorting")}function v(e){if("object"!=typeof e.selector)throw new Error("you must provide a selector when you find()");if("sort"in e&&(!e.sort||!Array.isArray(e.sort)))throw new Error("invalid sort json - should be an array");var t=Object.keys(e.selector),r=e.sort?u(e.sort).map(n):[];if(!w.oneSetIsSubArrayOfOther(t,r))throw new Error("conflicting sort and selector fields");for(var o=e.selector.$and||[e.selector],i=0;i<o.length;i++){var s=o[i],a=Object.keys(s);if(0===a.length)throw new Error("invalid empty selector")}}function m(e){for(var t=[],n="",r=0,o=e.length;o>r;r++){var i=e[r];"."===i?r>0&&"\\"===e[r-1]?n=n.substring(0,n.length-1)+".":(t.push(n),n=""):n+=i}return n&&t.push(n),t}function b(e,t){var r,o=Object.keys(e),i=t?t.map(n):[];return r=o.length>i.length?o:i,0===i.length?{fields:r}:(r=r.sort(function(e,t){var n=i.indexOf(e);-1===n&&(n=Number.MAX_VALUE);var r=i.indexOf(t);return-1===r&&(r=Number.MAX_VALUE),r>n?-1:n>r?1:0}),{fields:r,sortOrder:t.map(n)})}var w=e("../../utils"),k=e("pouchdb-collate");t.exports={getKey:n,getValue:r,getSize:o,massageSort:u,massageSelector:d,validateIndex:g,validateFindRequest:v,reverseOptions:y,filterInclusiveStart:h,massageIndexDef:p,parseField:m,objectFrom:i,getUserFields:b}},{"../../utils":12,"pouchdb-collate":44}],11:[function(e,t,n){"use strict";var r=e("./utils"),o=e("./adapters/http"),i=e("./adapters/local");n.createIndex=r.toPromise(function(e,t){if("undefined"==typeof t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide an index to create"));var n="http"===this.type()?o:i;n.createIndex(this,e,t)}),n.find=r.toPromise(function(e,t){if("undefined"==typeof t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide search parameters to find()"));var n="http"===this.type()?o:i;n.find(this,e,t)}),n.getIndexes=r.toPromise(function(e){var t="http"===this.type()?o:i;t.getIndexes(this,e)}),n.deleteIndex=r.toPromise(function(e,t){if("undefined"==typeof t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide an index to delete"));var n="http"===this.type()?o:i;n.deleteIndex(this,e,t)}),"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(n)},{"./adapters/http":1,"./adapters/local":9,"./utils":12}],12:[function(e,t,n){var r,o=e("__browserify_process"),i="undefined"!=typeof self?self:"undefined"!=typeof window?window:{},u=e("__browserify_Buffer").Buffer;r="undefined"!=typeof window&&window.PouchDB?window.PouchDB.utils.Promise:"function"==typeof i.Promise?i.Promise:e("lie"),n.once=function(e){var t=!1;return n.getArguments(function(n){if(t)throw console.trace(),new Error("once called  more than once");t=!0,e.apply(this,n)})},n.getArguments=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}},n.toPromise=function(e){return n.getArguments(function(t){var i,u=this,s="function"==typeof t[t.length-1]?t.pop():!1;s&&(i=function(e,t){o.nextTick(function(){s(e,t)})});var a=new r(function(r,o){try{var i=n.once(function(e,t){e?o(e):r(t)});t.push(i),e.apply(u,t)}catch(s){o(s)}});return i&&a.then(function(e){i(null,e)},i),a.cancel=function(){return this},a})},n.inherits=e("inherits"),n.Promise=r,n.atob=o.browser&&"atob"in i?function(e){return atob(e)}:function(e){var t=new u(e,"base64");if(t.toString("base64")!==e)throw"Cannot base64 encode full string";return t.toString("binary")},n.btoa=o.browser&&"btoa"in i?function(e){return btoa(e)}:function(e){return new u(e,"binary").toString("base64")},n.clone=function(e){return n.extend(!0,{},e)},n.extend=e("pouchdb-extend"),n.callbackify=function(e){return n.getArguments(function(t){var r=t.pop(),o=e.apply(this,t);return"function"==typeof r&&n.promisedCallback(o,r),o})},n.promisedCallback=function(e,t){return t&&e.then(function(e){o.nextTick(function(){t(null,e)})},function(e){o.nextTick(function(){t(e)})}),e};var s=e("crypto"),a=e("spark-md5");n.MD5=function(e){return o.browser?a.hash(e):s.createHash("md5").update(e).digest("hex")},n.flatten=n.getArguments(function(e){for(var t=[],r=0,o=e.length;o>r;r++){var i=e[r];Array.isArray(i)?t=t.concat(n.flatten.apply(null,i)):t.push(i)}return t}),n.mergeObjects=function(e){for(var t={},r=0,o=e.length;o>r;r++)t=n.extend(!0,t,e[r]);return t},n.pick=function(e,t){for(var n={},r=0,o=t.length;o>r;r++){var i=t[r];n[i]=e[i]}return n},n.oneArrayIsSubArrayOfOther=function(e,t){for(var n=0,r=Math.min(e.length,t.length);r>n;n++)if(e[n]!==t[n])return!1;return!0},n.oneArrayIsStrictSubArrayOfOther=function(e,t){return e.length>t.length?!1:n.oneArrayIsSubArrayOfOther(e,t)},n.oneSetIsSubArrayOfOther=function(e,t){e=e.slice();for(var n=0,r=t.length;r>n;n++){var o=t[n];if(!e.length)break;var i=e.indexOf(o);if(-1===i)return!1;e.splice(i,1)}return!0},n.compare=function(e,t){return t>e?-1:e>t?1:0},n.arrayToObject=function(e){for(var t={},n=0,r=e.length;r>n;n++)t[e[n]]=!0;return t},n.max=function(e,t){for(var n=null,r=-1,o=0,i=e.length;i>o;o++){var u=e[o],s=t(u);s>r&&(r=s,n=u)}return n},n.arrayEquals=function(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;r>n;n++)if(e[n]!==t[n])return!1;return!0},n.uniq=function(e){for(var t={},n=0;n<e.length;n++)t["$"+e[n]]=!0;return Object.keys(t).map(function(e){return e.substring(1)})},n.log=e("debug")("pouchdb:find")},{__browserify_Buffer:15,__browserify_process:16,crypto:14,debug:17,inherits:20,lie:24,"pouchdb-extend":46,"spark-md5":48}],13:[function(e,t){"use strict";function n(e){return function(){var t=arguments.length;if(t){for(var n=[],r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}return e.call(this,[])}}t.exports=n},{}],14:[function(){},{}],15:[function(e,t){e=function n(t,r,o){function i(s,a){if(!r[s]){if(!t[s]){var c="function"==typeof e&&e;if(!a&&c)return c(s,!0);if(u)return u(s,!0);throw new Error("Cannot find module '"+s+"'")}var f=r[s]={exports:{}};t[s][0].call(f.exports,function(e){var n=t[s][1][e];return i(n?n:e)},f,f.exports,n,t,r,o)}return r[s].exports}for(var u="function"==typeof e&&e,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(e,t,n){n.readIEEE754=function(e,t,n,r,o){var i,u,s=8*o-r-1,a=(1<<s)-1,c=a>>1,f=-7,l=n?0:o-1,d=n?1:-1,p=e[t+l];for(l+=d,i=p&(1<<-f)-1,p>>=-f,f+=s;f>0;i=256*i+e[t+l],l+=d,f-=8);for(u=i&(1<<-f)-1,i>>=-f,f+=r;f>0;u=256*u+e[t+l],l+=d,f-=8);if(0===i)i=1-c;else{if(i===a)return u?0/0:1/0*(p?-1:1);u+=Math.pow(2,r),i-=c}return(p?-1:1)*u*Math.pow(2,i-r)},n.writeIEEE754=function(e,t,n,r,o,i){var u,s,a,c=8*i-o-1,f=(1<<c)-1,l=f>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?i-1:0,h=r?-1:1,y=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||1/0===t?(s=isNaN(t)?1:0,u=f):(u=Math.floor(Math.log(t)/Math.LN2),t*(a=Math.pow(2,-u))<1&&(u--,a*=2),t+=u+l>=1?d/a:d*Math.pow(2,1-l),t*a>=2&&(u++,a/=2),u+l>=f?(s=0,u=f):u+l>=1?(s=(t*a-1)*Math.pow(2,o),u+=l):(s=t*Math.pow(2,l-1)*Math.pow(2,o),u=0));o>=8;e[n+p]=255&s,p+=h,s/=256,o-=8);for(u=u<<o|s,c+=o;c>0;e[n+p]=255&u,p+=h,u/=256,c-=8);e[n+p-h]|=128*y}},{}],q9TxCC:[function(e,t,n){function r(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function o(t,n,i){if($||($=e("assert")),!(this instanceof o))return new o(t,n,i);if(this.parent=this,this.offset=0,"base64"==n&&"string"==typeof t)for(t=r(t);t.length%4!=0;)t+="=";var s;if("number"==typeof i){this.length=u(n);for(var c=0;c<this.length;c++)this[c]=t.get(c+i)}else{switch(s=typeof t){case"number":this.length=u(t);break;case"string":this.length=o.byteLength(t,n);break;case"object":this.length=u(t.length);break;default:throw new Error("First argument needs to be a number, array or string.")}if(a(t))for(var c=0;c<this.length;c++)this[c]=t instanceof o?t.readUInt8(c):t[c];else if("string"==s)this.length=this.write(t,0,n);else if("number"===s)for(var c=0;c<this.length;c++)this[c]=0}}function i(e,t,n){return"number"!=typeof e?n:(e=~~e,e>=t?t:e>=0?e:(e+=t,e>=0?e:0))}function u(e){return e=~~Math.ceil(+e),0>e?0:e}function s(e){return(Array.isArray||function(e){return"[object Array]"=={}.toString.apply(e)})(e)}function a(e){return s(e)||o.isBuffer(e)||e&&"object"==typeof e&&"number"==typeof e.length}function c(e){return 16>e?"0"+e.toString(16):e.toString(16)}function f(e){for(var t=[],n=0;n<e.length;n++)if(e.charCodeAt(n)<=127)t.push(e.charCodeAt(n));else for(var r=encodeURIComponent(e.charAt(n)).substr(1).split("%"),o=0;o<r.length;o++)t.push(parseInt(r[o],16));return t}function l(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}function d(t){return e("base64-js").toByteArray(t)}function p(e,t,n,r){for(var o=0;r>o&&!(o+n>=t.length||o>=e.length);)t[o+n]=e[o],o++;return o}function h(e){try{return decodeURIComponent(e)}catch(t){return String.fromCharCode(65533)}}function y(e,t,n,r){var o=0;return r||($.ok("boolean"==typeof n,"missing or invalid endian"),$.ok(void 0!==t&&null!==t,"missing offset"),$.ok(t+1<e.length,"Trying to read beyond buffer length")),t>=e.length?0:(n?(o=e[t]<<8,t+1<e.length&&(o|=e[t+1])):(o=e[t],t+1<e.length&&(o|=e[t+1]<<8)),o)}function g(e,t,n,r){var o=0;return r||($.ok("boolean"==typeof n,"missing or invalid endian"),$.ok(void 0!==t&&null!==t,"missing offset"),$.ok(t+3<e.length,"Trying to read beyond buffer length")),t>=e.length?0:(n?(t+1<e.length&&(o=e[t+1]<<16),t+2<e.length&&(o|=e[t+2]<<8),t+3<e.length&&(o|=e[t+3]),o+=e[t]<<24>>>0):(t+2<e.length&&(o=e[t+2]<<16),t+1<e.length&&(o|=e[t+1]<<8),o|=e[t],t+3<e.length&&(o+=e[t+3]<<24>>>0)),o)}function v(e,t,n,r){var o,i;return r||($.ok("boolean"==typeof n,"missing or invalid endian"),$.ok(void 0!==t&&null!==t,"missing offset"),$.ok(t+1<e.length,"Trying to read beyond buffer length")),i=y(e,t,n,r),o=32768&i,o?-1*(65535-i+1):i}function m(e,t,n,r){var o,i;return r||($.ok("boolean"==typeof n,"missing or invalid endian"),$.ok(void 0!==t&&null!==t,"missing offset"),$.ok(t+3<e.length,"Trying to read beyond buffer length")),i=g(e,t,n,r),o=2147483648&i,o?-1*(4294967295-i+1):i}function b(t,n,r,o){return o||($.ok("boolean"==typeof r,"missing or invalid endian"),$.ok(n+3<t.length,"Trying to read beyond buffer length")),e("./buffer_ieee754").readIEEE754(t,n,r,23,4)}function w(t,n,r,o){return o||($.ok("boolean"==typeof r,"missing or invalid endian"),$.ok(n+7<t.length,"Trying to read beyond buffer length")),e("./buffer_ieee754").readIEEE754(t,n,r,52,8)}function k(e,t){$.ok("number"==typeof e,"cannot write a non-number as a number"),$.ok(e>=0,"specified a negative value for writing an unsigned value"),$.ok(t>=e,"value is larger than maximum value for type"),$.ok(Math.floor(e)===e,"value has a fractional component")}function x(e,t,n,r,o){o||($.ok(void 0!==t&&null!==t,"missing value"),$.ok("boolean"==typeof r,"missing or invalid endian"),$.ok(void 0!==n&&null!==n,"missing offset"),$.ok(n+1<e.length,"trying to write beyond buffer length"),k(t,65535));for(var i=0;i<Math.min(e.length-n,2);i++)e[n+i]=(t&255<<8*(r?1-i:i))>>>8*(r?1-i:i)}function E(e,t,n,r,o){o||($.ok(void 0!==t&&null!==t,"missing value"),$.ok("boolean"==typeof r,"missing or invalid endian"),$.ok(void 0!==n&&null!==n,"missing offset"),$.ok(n+3<e.length,"trying to write beyond buffer length"),k(t,4294967295));for(var i=0;i<Math.min(e.length-n,4);i++)e[n+i]=t>>>8*(r?3-i:i)&255}function _(e,t,n){$.ok("number"==typeof e,"cannot write a non-number as a number"),$.ok(t>=e,"value larger than maximum allowed value"),$.ok(e>=n,"value smaller than minimum allowed value"),$.ok(Math.floor(e)===e,"value has a fractional component")}function O(e,t,n){$.ok("number"==typeof e,"cannot write a non-number as a number"),$.ok(t>=e,"value larger than maximum allowed value"),$.ok(e>=n,"value smaller than minimum allowed value")}function j(e,t,n,r,o){o||($.ok(void 0!==t&&null!==t,"missing value"),$.ok("boolean"==typeof r,"missing or invalid endian"),$.ok(void 0!==n&&null!==n,"missing offset"),$.ok(n+1<e.length,"Trying to write beyond buffer length"),_(t,32767,-32768)),t>=0?x(e,t,n,r,o):x(e,65535+t+1,n,r,o)}function A(e,t,n,r,o){o||($.ok(void 0!==t&&null!==t,"missing value"),$.ok("boolean"==typeof r,"missing or invalid endian"),$.ok(void 0!==n&&null!==n,"missing offset"),$.ok(n+3<e.length,"Trying to write beyond buffer length"),_(t,2147483647,-2147483648)),t>=0?E(e,t,n,r,o):E(e,4294967295+t+1,n,r,o)}function I(t,n,r,o,i){i||($.ok(void 0!==n&&null!==n,"missing value"),$.ok("boolean"==typeof o,"missing or invalid endian"),$.ok(void 0!==r&&null!==r,"missing offset"),$.ok(r+3<t.length,"Trying to write beyond buffer length"),O(n,3.4028234663852886e38,-3.4028234663852886e38)),e("./buffer_ieee754").writeIEEE754(t,n,r,o,23,4)}function S(t,n,r,o,i){i||($.ok(void 0!==n&&null!==n,"missing value"),$.ok("boolean"==typeof o,"missing or invalid endian"),$.ok(void 0!==r&&null!==r,"missing offset"),$.ok(r+7<t.length,"Trying to write beyond buffer length"),O(n,1.7976931348623157e308,-1.7976931348623157e308)),e("./buffer_ieee754").writeIEEE754(t,n,r,o,52,8)}var $;n.Buffer=o,n.SlowBuffer=o,o.poolSize=8192,n.INSPECT_MAX_BYTES=50,o.prototype.get=function(e){if(0>e||e>=this.length)throw new Error("oob");return this[e]},o.prototype.set=function(e,t){if(0>e||e>=this.length)throw new Error("oob");return this[e]=t},o.byteLength=function(e,t){switch(t||"utf8"){case"hex":return e.length/2;case"utf8":case"utf-8":return f(e).length;case"ascii":case"binary":return e.length;case"base64":return d(e).length;default:throw new Error("Unknown encoding")}},o.prototype.utf8Write=function(e,t,n){return o._charsWritten=p(f(e),this,t,n)},o.prototype.asciiWrite=function(e,t,n){return o._charsWritten=p(l(e),this,t,n)},o.prototype.binaryWrite=o.prototype.asciiWrite,o.prototype.base64Write=function(e,t,n){return o._charsWritten=p(d(e),this,t,n)},o.prototype.base64Slice=function(){var t=Array.prototype.slice.apply(this,arguments);return e("base64-js").fromByteArray(t)},o.prototype.utf8Slice=function(){for(var e=Array.prototype.slice.apply(this,arguments),t="",n="",r=0;r<e.length;)e[r]<=127?(t+=h(n)+String.fromCharCode(e[r]),n=""):n+="%"+e[r].toString(16),r++;return t+h(n)},o.prototype.asciiSlice=function(){for(var e=Array.prototype.slice.apply(this,arguments),t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},o.prototype.binarySlice=o.prototype.asciiSlice,o.prototype.inspect=function(){for(var e=[],t=this.length,r=0;t>r;r++)if(e[r]=c(this[r]),r==n.INSPECT_MAX_BYTES){e[r+1]="...";break}return"<Buffer "+e.join(" ")+">"},o.prototype.hexSlice=function(e,t){var n=this.length;(!e||0>e)&&(e=0),(!t||0>t||t>n)&&(t=n);for(var r="",o=e;t>o;o++)r+=c(this[o]);return r},o.prototype.toString=function(e,t,n){if(e=String(e||"utf8").toLowerCase(),t=+t||0,"undefined"==typeof n&&(n=this.length),+n==t)return"";switch(e){case"hex":return this.hexSlice(t,n);case"utf8":case"utf-8":return this.utf8Slice(t,n);case"ascii":return this.asciiSlice(t,n);case"binary":return this.binarySlice(t,n);case"base64":return this.base64Slice(t,n);case"ucs2":case"ucs-2":return this.ucs2Slice(t,n);default:throw new Error("Unknown encoding")}},o.prototype.hexWrite=function(e,t,n){t=+t||0;var r=this.length-t;n?(n=+n,n>r&&(n=r)):n=r;var i=e.length;if(i%2)throw new Error("Invalid hex string");n>i/2&&(n=i/2);for(var u=0;n>u;u++){var s=parseInt(e.substr(2*u,2),16);if(isNaN(s))throw new Error("Invalid hex string");this[t+u]=s}return o._charsWritten=2*u,u},o.prototype.write=function(e,t,n,r){if(isFinite(t))isFinite(n)||(r=n,n=void 0);else{var o=r;r=t,t=n,n=o}t=+t||0;var i=this.length-t;switch(n?(n=+n,n>i&&(n=i)):n=i,r=String(r||"utf8").toLowerCase()){case"hex":return this.hexWrite(e,t,n);case"utf8":case"utf-8":return this.utf8Write(e,t,n);case"ascii":return this.asciiWrite(e,t,n);case"binary":return this.binaryWrite(e,t,n);case"base64":return this.base64Write(e,t,n);case"ucs2":case"ucs-2":return this.ucs2Write(e,t,n);default:throw new Error("Unknown encoding")}},o.prototype.slice=function(e,t){var n=this.length;return e=i(e,n,0),t=i(t,n,n),new o(this,t-e,+e)},o.prototype.copy=function(e,t,n,r){var o=this;if(n||(n=0),(void 0===r||isNaN(r))&&(r=this.length),t||(t=0),n>r)throw new Error("sourceEnd < sourceStart");if(r===n)return 0;if(0==e.length||0==o.length)return 0;if(0>t||t>=e.length)throw new Error("targetStart out of bounds");if(0>n||n>=o.length)throw new Error("sourceStart out of bounds");if(0>r||r>o.length)throw new Error("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);for(var i=[],u=n;r>u;u++)$.ok("undefined"!=typeof this[u],"copying undefined buffer bytes!"),i.push(this[u]);for(var u=t;u<t+i.length;u++)e[u]=i[u-t]},o.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),"string"==typeof e&&(e=e.charCodeAt(0)),"number"!=typeof e||isNaN(e))throw new Error("value is not a number");if(t>n)throw new Error("end < start");if(n===t)return 0;if(0==this.length)return 0;if(0>t||t>=this.length)throw new Error("start out of bounds");if(0>n||n>this.length)throw new Error("end out of bounds");for(var r=t;n>r;r++)this[r]=e},o.isBuffer=function(e){return e instanceof o||e instanceof o},o.concat=function(e,t){if(!s(e))throw new Error("Usage: Buffer.concat(list, [totalLength])\n       list should be an Array.");if(0===e.length)return new o(0);if(1===e.length)return e[0];if("number"!=typeof t){t=0;for(var n=0;n<e.length;n++){var r=e[n];t+=r.length}}for(var i=new o(t),u=0,n=0;n<e.length;n++){var r=e[n];r.copy(i,u),u+=r.length}return i},o.isEncoding=function(e){switch((e+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},o.prototype.readUInt8=function(e,t){var n=this;return t||($.ok(void 0!==e&&null!==e,"missing offset"),$.ok(e<n.length,"Trying to read beyond buffer length")),e>=n.length?void 0:n[e]},o.prototype.readUInt16LE=function(e,t){return y(this,e,!1,t)},o.prototype.readUInt16BE=function(e,t){return y(this,e,!0,t)},o.prototype.readUInt32LE=function(e,t){return g(this,e,!1,t)},o.prototype.readUInt32BE=function(e,t){return g(this,e,!0,t)},o.prototype.readInt8=function(e,t){var n,r=this;return t||($.ok(void 0!==e&&null!==e,"missing offset"),$.ok(e<r.length,"Trying to read beyond buffer length")),e>=r.length?void 0:(n=128&r[e],n?-1*(255-r[e]+1):r[e])},o.prototype.readInt16LE=function(e,t){return v(this,e,!1,t)},o.prototype.readInt16BE=function(e,t){return v(this,e,!0,t)},o.prototype.readInt32LE=function(e,t){return m(this,e,!1,t)},o.prototype.readInt32BE=function(e,t){return m(this,e,!0,t)},o.prototype.readFloatLE=function(e,t){return b(this,e,!1,t)},o.prototype.readFloatBE=function(e,t){return b(this,e,!0,t)},o.prototype.readDoubleLE=function(e,t){return w(this,e,!1,t)},o.prototype.readDoubleBE=function(e,t){return w(this,e,!0,t)
},o.prototype.writeUInt8=function(e,t,n){var r=this;n||($.ok(void 0!==e&&null!==e,"missing value"),$.ok(void 0!==t&&null!==t,"missing offset"),$.ok(t<r.length,"trying to write beyond buffer length"),k(e,255)),t<r.length&&(r[t]=e)},o.prototype.writeUInt16LE=function(e,t,n){x(this,e,t,!1,n)},o.prototype.writeUInt16BE=function(e,t,n){x(this,e,t,!0,n)},o.prototype.writeUInt32LE=function(e,t,n){E(this,e,t,!1,n)},o.prototype.writeUInt32BE=function(e,t,n){E(this,e,t,!0,n)},o.prototype.writeInt8=function(e,t,n){var r=this;n||($.ok(void 0!==e&&null!==e,"missing value"),$.ok(void 0!==t&&null!==t,"missing offset"),$.ok(t<r.length,"Trying to write beyond buffer length"),_(e,127,-128)),e>=0?r.writeUInt8(e,t,n):r.writeUInt8(255+e+1,t,n)},o.prototype.writeInt16LE=function(e,t,n){j(this,e,t,!1,n)},o.prototype.writeInt16BE=function(e,t,n){j(this,e,t,!0,n)},o.prototype.writeInt32LE=function(e,t,n){A(this,e,t,!1,n)},o.prototype.writeInt32BE=function(e,t,n){A(this,e,t,!0,n)},o.prototype.writeFloatLE=function(e,t,n){I(this,e,t,!1,n)},o.prototype.writeFloatBE=function(e,t,n){I(this,e,t,!0,n)},o.prototype.writeDoubleLE=function(e,t,n){S(this,e,t,!1,n)},o.prototype.writeDoubleBE=function(e,t,n){S(this,e,t,!0,n)}},{"./buffer_ieee754":1,assert:6,"base64-js":4}],"buffer-browserify":[function(e,t){t.exports=e("q9TxCC")},{}],4:[function(e,t){!function(){"use strict";function e(e){var t,n,o,i,u,s;if(e.length%4>0)throw"Invalid string. Length must be a multiple of 4";for(u=e.indexOf("="),u=u>0?e.length-u:0,s=[],o=u>0?e.length-4:e.length,t=0,n=0;o>t;t+=4,n+=3)i=r.indexOf(e[t])<<18|r.indexOf(e[t+1])<<12|r.indexOf(e[t+2])<<6|r.indexOf(e[t+3]),s.push((16711680&i)>>16),s.push((65280&i)>>8),s.push(255&i);return 2===u?(i=r.indexOf(e[t])<<2|r.indexOf(e[t+1])>>4,s.push(255&i)):1===u&&(i=r.indexOf(e[t])<<10|r.indexOf(e[t+1])<<4|r.indexOf(e[t+2])>>2,s.push(i>>8&255),s.push(255&i)),s}function n(e){function t(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}var n,o,i,u=e.length%3,s="";for(n=0,i=e.length-u;i>n;n+=3)o=(e[n]<<16)+(e[n+1]<<8)+e[n+2],s+=t(o);switch(u){case 1:o=e[e.length-1],s+=r[o>>2],s+=r[o<<4&63],s+="==";break;case 2:o=(e[e.length-2]<<8)+e[e.length-1],s+=r[o>>10],s+=r[o>>4&63],s+=r[o<<2&63],s+="="}return s}var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";t.exports.toByteArray=e,t.exports.fromByteArray=n}()},{}],5:[function(e,t,n){function r(e){return"[object Array]"===c.call(e)}function o(e,t){var n;if(null===e)n={__proto__:null};else{if("object"!=typeof e)throw new TypeError("typeof prototype["+typeof e+"] != 'object'");var r=function(){};r.prototype=e,n=new r,n.__proto__=e}return"undefined"!=typeof t&&Object.defineProperties&&Object.defineProperties(n,t),n}function i(e){return"object"!=typeof e&&"function"!=typeof e||null===e}function u(e){if(i(e))throw new TypeError("Object.keys called on a non-object");var t=[];for(var n in e)f.call(e,n)&&t.push(n);return t}function s(e){if(i(e))throw new TypeError("Object.getOwnPropertyNames called on a non-object");var t=u(e);return n.isArray(e)&&-1===n.indexOf(e,"length")&&t.push("length"),t}function a(e,t){return{value:e[t]}}var c=Object.prototype.toString,f=Object.prototype.hasOwnProperty;n.isArray="function"==typeof Array.isArray?Array.isArray:r,n.indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1},n.filter=function(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n},n.forEach=function(e,t,n){if(e.forEach)return e.forEach(t,n);for(var r=0;r<e.length;r++)t.call(n,e[r],r,e)},n.map=function(e,t){if(e.map)return e.map(t);for(var n=new Array(e.length),r=0;r<e.length;r++)n[r]=t(e[r],r,e);return n},n.reduce=function(e,t,n){if(e.reduce)return e.reduce(t,n);var r,o=!1;2<arguments.length&&(r=n,o=!0);for(var i=0,u=e.length;u>i;++i)e.hasOwnProperty(i)&&(o?r=t(r,e[i],i,e):(r=e[i],o=!0));return r},n.substr="b"!=="ab".substr(-1)?function(e,t,n){return 0>t&&(t=e.length+t),e.substr(t,n)}:function(e,t,n){return e.substr(t,n)},n.trim=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},n.bind=function(){var e=Array.prototype.slice.call(arguments),t=e.shift();if(t.bind)return t.bind.apply(t,e);var n=e.shift();return function(){t.apply(n,e.concat([Array.prototype.slice.call(arguments)]))}},n.create="function"==typeof Object.create?Object.create:o;var l="function"==typeof Object.keys?Object.keys:u,d="function"==typeof Object.getOwnPropertyNames?Object.getOwnPropertyNames:s;if((new Error).hasOwnProperty("description")){var p=function(e,t){return"[object Error]"===c.call(e)&&(t=n.filter(t,function(e){return"description"!==e&&"number"!==e&&"message"!==e})),t};n.keys=function(e){return p(e,l(e))},n.getOwnPropertyNames=function(e){return p(e,d(e))}}else n.keys=l,n.getOwnPropertyNames=d;if("function"==typeof Object.getOwnPropertyDescriptor)try{Object.getOwnPropertyDescriptor({a:1},"a"),n.getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor}catch(h){n.getOwnPropertyDescriptor=function(e,t){try{return Object.getOwnPropertyDescriptor(e,t)}catch(n){return a(e,t)}}}else n.getOwnPropertyDescriptor=a},{}],6:[function(e,t){function n(e,t){return d.isUndefined(t)?""+t:!d.isNumber(t)||!isNaN(t)&&isFinite(t)?d.isFunction(t)||d.isRegExp(t)?t.toString():t:t.toString()}function r(e,t){return d.isString(e)?e.length<t?e:e.slice(0,t):e}function o(e){return r(JSON.stringify(e.actual,n),128)+" "+e.operator+" "+r(JSON.stringify(e.expected,n),128)}function i(e,t,n,r,o){throw new y.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:o})}function u(e,t){e||i(e,!0,t,"==",y.ok)}function s(e,t){if(e===t)return!0;if(d.isBuffer(e)&&d.isBuffer(t)){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return d.isDate(e)&&d.isDate(t)?e.getTime()===t.getTime():d.isRegExp(e)&&d.isRegExp(t)?e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase:d.isObject(e)||d.isObject(t)?c(e,t):e==t}function a(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function c(e,t){if(d.isNullOrUndefined(e)||d.isNullOrUndefined(t))return!1;if(e.prototype!==t.prototype)return!1;if(a(e))return a(t)?(e=h.call(e),t=h.call(t),s(e,t)):!1;try{var n,r,o=p.keys(e),i=p.keys(t)}catch(u){return!1}if(o.length!=i.length)return!1;for(o.sort(),i.sort(),r=o.length-1;r>=0;r--)if(o[r]!=i[r])return!1;for(r=o.length-1;r>=0;r--)if(n=o[r],!s(e[n],t[n]))return!1;return!0}function f(e,t){return e&&t?"[object RegExp]"==Object.prototype.toString.call(t)?t.test(e):e instanceof t?!0:t.call({},e)===!0?!0:!1:!1}function l(e,t,n,r){var o;d.isString(n)&&(r=n,n=null);try{t()}catch(u){o=u}if(r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!o&&i(o,n,"Missing expected exception"+r),!e&&f(o,n)&&i(o,n,"Got unwanted exception"+r),e&&o&&n&&!f(o,n)||!e&&o)throw o}var d=e("util"),p=e("_shims"),h=Array.prototype.slice,y=t.exports=u;y.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,this.message=e.message||o(this)},d.inherits(y.AssertionError,Error),y.fail=i,y.ok=u,y.equal=function(e,t,n){e!=t&&i(e,t,n,"==",y.equal)},y.notEqual=function(e,t,n){e==t&&i(e,t,n,"!=",y.notEqual)},y.deepEqual=function(e,t,n){s(e,t)||i(e,t,n,"deepEqual",y.deepEqual)},y.notDeepEqual=function(e,t,n){s(e,t)&&i(e,t,n,"notDeepEqual",y.notDeepEqual)},y.strictEqual=function(e,t,n){e!==t&&i(e,t,n,"===",y.strictEqual)},y.notStrictEqual=function(e,t,n){e===t&&i(e,t,n,"!==",y.notStrictEqual)},y["throws"]=function(){l.apply(this,[!0].concat(h.call(arguments)))},y.doesNotThrow=function(){l.apply(this,[!1].concat(h.call(arguments)))},y.ifError=function(e){if(e)throw e}},{_shims:5,util:7}],7:[function(e,t,n){function r(e,t){var r={seen:[],stylize:i};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(t)?r.showHidden=t:t&&n._extend(r,t),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),s(r,e,r.depth)}function o(e,t){var n=r.styles[t];return n?"["+r.colors[n][0]+"m"+e+"["+r.colors[n][1]+"m":e}function i(e){return e}function u(e){var t={};return N.forEach(e,function(e){t[e]=!0}),t}function s(e,t,r){if(e.customInspect&&t&&O(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var o=t.inspect(r);return m(o)||(o=s(e,o,r)),o}var i=a(e,t);if(i)return i;var h=N.keys(t),y=u(h);if(e.showHidden&&(h=N.getOwnPropertyNames(t)),0===h.length){if(O(t)){var g=t.name?": "+t.name:"";return e.stylize("[Function"+g+"]","special")}if(k(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(E(t))return e.stylize(Date.prototype.toString.call(t),"date");if(_(t))return c(t)}var v="",b=!1,w=["{","}"];if(p(t)&&(b=!0,w=["[","]"]),O(t)){var x=t.name?": "+t.name:"";v=" [Function"+x+"]"}if(k(t)&&(v=" "+RegExp.prototype.toString.call(t)),E(t)&&(v=" "+Date.prototype.toUTCString.call(t)),_(t)&&(v=" "+c(t)),0===h.length&&(!b||0==t.length))return w[0]+v+w[1];if(0>r)return k(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var j;return j=b?f(e,t,r,y,h):h.map(function(n){return l(e,t,r,y,n,b)}),e.seen.pop(),d(j,v,w)}function a(e,t){if(w(t))return e.stylize("undefined","undefined");if(m(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return v(t)?e.stylize(""+t,"number"):h(t)?e.stylize(""+t,"boolean"):y(t)?e.stylize("null","null"):void 0}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,o){for(var i=[],u=0,s=t.length;s>u;++u)i.push(q(t,String(u))?l(e,t,n,r,String(u),!0):"");return N.forEach(o,function(o){o.match(/^\d+$/)||i.push(l(e,t,n,r,o,!0))}),i}function l(e,t,n,r,o,i){var u,a,c;if(c=N.getOwnPropertyDescriptor(t,o)||{value:t[o]},c.get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),q(r,o)||(u="["+o+"]"),a||(N.indexOf(e.seen,c.value)<0?(a=y(n)?s(e,c.value,null):s(e,c.value,n-1),a.indexOf("\n")>-1&&(a=i?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n"))):a=e.stylize("[Circular]","special")),w(u)){if(i&&o.match(/^\d+$/))return a;u=JSON.stringify(""+o),u.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=e.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=e.stylize(u,"string"))}return u+": "+a}function d(e,t,n){var r=0,o=N.reduce(e,function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function p(e){return N.isArray(e)}function h(e){return"boolean"==typeof e}function y(e){return null===e}function g(e){return null==e}function v(e){return"number"==typeof e}function m(e){return"string"==typeof e}function b(e){return"symbol"==typeof e}function w(e){return void 0===e}function k(e){return x(e)&&"[object RegExp]"===I(e)}function x(e){return"object"==typeof e&&e}function E(e){return x(e)&&"[object Date]"===I(e)}function _(e){return x(e)&&"[object Error]"===I(e)}function O(e){return"function"==typeof e}function j(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function A(e){return e instanceof Buffer}function I(e){return Object.prototype.toString.call(e)}function S(e){return 10>e?"0"+e.toString(10):e.toString(10)}function $(){var e=new Date,t=[S(e.getHours()),S(e.getMinutes()),S(e.getSeconds())].join(":");return[e.getDate(),D[e.getMonth()],t].join(" ")}function q(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var N=e("_shims"),C=/%[sdj%]/g;n.format=function(e){if(!m(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(r(arguments[n]));return t.join(" ")}for(var n=1,o=arguments,i=o.length,u=String(e).replace(C,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":try{return JSON.stringify(o[n++])}catch(t){return"[Circular]"}default:return e}}),s=o[n];i>n;s=o[++n])u+=y(s)||!x(s)?" "+s:" "+r(s);return u},n.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=p,n.isBoolean=h,n.isNull=y,n.isNullOrUndefined=g,n.isNumber=v,n.isString=m,n.isSymbol=b,n.isUndefined=w,n.isRegExp=k,n.isObject=x,n.isDate=E,n.isError=_,n.isFunction=O,n.isPrimitive=j,n.isBuffer=A;var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",$(),n.format.apply(n,arguments))},n.inherits=function(e,t){e.super_=t,e.prototype=N.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},n._extend=function(e,t){if(!t||!x(t))return e;for(var n=N.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}},{_shims:5}]},{},[]),t.exports=e("buffer-browserify")},{}],16:[function(e,t){var n=t.exports={};n.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")}},{}],17:[function(e,t,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r),e}function i(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function u(e){try{null==e?a.removeItem("debug"):a.debug=e}catch(t){}}function s(){var e;try{e=a.debug}catch(t){}return e}n=t.exports=e("./debug"),n.log=i,n.formatArgs=o,n.save=u,n.load=s,n.useColors=r;var a;a="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:window.localStorage,n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(s())},{"./debug":18}],18:[function(e,t,n){function r(){return n.colors[f++%n.colors.length]}function o(e){function t(){}function o(){var e=o,t=+new Date,i=t-(c||t);e.diff=i,e.prev=c,e.curr=t,c=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=r());var u=Array.prototype.slice.call(arguments);u[0]=n.coerce(u[0]),"string"!=typeof u[0]&&(u=["%o"].concat(u));var s=0;u[0]=u[0].replace(/%([a-z%])/g,function(t,r){if("%%"===t)return t;s++;var o=n.formatters[r];if("function"==typeof o){var i=u[s];t=o.call(e,i),u.splice(s,1),s--}return t}),"function"==typeof n.formatArgs&&(u=n.formatArgs.apply(e,u));var a=o.log||n.log||console.log.bind(console);a.apply(e,u)}t.enabled=!1,o.enabled=!0;var i=n.enabled(e)?o:t;return i.namespace=e,i}function i(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),r=t.length,o=0;r>o;o++)t[o]&&(e=t[o].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function u(){n.enable("")}function s(e){var t,r;for(t=0,r=n.skips.length;r>t;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;r>t;t++)if(n.names[t].test(e))return!0;return!1}function a(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=o,n.coerce=a,n.disable=u,n.enable=i,n.enabled=s,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var c,f=0},{ms:19}],19:[function(e,t){function n(e){var t=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"y":return n*f;case"days":case"day":case"d":return n*c;case"hours":case"hour":case"h":return n*a;case"minutes":case"minute":case"m":return n*s;case"seconds":case"second":case"s":return n*u;case"ms":return n}}}function r(e){return e>=c?Math.round(e/c)+"d":e>=a?Math.round(e/a)+"h":e>=s?Math.round(e/s)+"m":e>=u?Math.round(e/u)+"s":e+"ms"}function o(e){return i(e,c,"day")||i(e,a,"hour")||i(e,s,"minute")||i(e,u,"second")||e+" ms"}function i(e,t,n){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var u=1e3,s=60*u,a=60*s,c=24*a,f=365.25*c;t.exports=function(e,t){return t=t||{},"string"==typeof e?n(e):t["long"]?o(e):r(e)}},{}],20:[function(e,t){t.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],21:[function(e,t){"use strict";function n(){}t.exports=n},{}],22:[function(e,t){"use strict";function n(e){function t(e,t){function r(e){c[t]=e,++f===n&!a&&(a=!0,s.resolve(d,c))}i(e).then(r,function(e){a||(a=!0,s.reject(d,e))})}if("[object Array]"!==Object.prototype.toString.call(e))return o(new TypeError("must be an array"));var n=e.length,a=!1;if(!n)return i([]);for(var c=new Array(n),f=0,l=-1,d=new r(u);++l<n;)t(e[l],l);return d}var r=e("./promise"),o=e("./reject"),i=e("./resolve"),u=e("./INTERNAL"),s=e("./handlers");t.exports=n},{"./INTERNAL":21,"./handlers":23,"./promise":25,"./reject":28,"./resolve":29}],23:[function(e,t,n){"use strict";function r(e){var t=e&&e.then;return e&&"object"==typeof e&&"function"==typeof t?function(){t.apply(e,arguments)}:void 0}var o=e("./tryCatch"),i=e("./resolveThenable"),u=e("./states");n.resolve=function(e,t){var s=o(r,t);if("error"===s.status)return n.reject(e,s.value);var a=s.value;if(a)i.safely(e,a);else{e.state=u.FULFILLED,e.outcome=t;for(var c=-1,f=e.queue.length;++c<f;)e.queue[c].callFulfilled(t)}return e},n.reject=function(e,t){e.state=u.REJECTED,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e}},{"./resolveThenable":30,"./states":31,"./tryCatch":32}],24:[function(e,t,n){t.exports=n=e("./promise"),n.resolve=e("./resolve"),n.reject=e("./reject"),n.all=e("./all"),n.race=e("./race")},{"./all":22,"./promise":25,"./race":27,"./reject":28,"./resolve":29}],25:[function(e,t){"use strict";function n(e){if(!(this instanceof n))return new n(e);if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=u.PENDING,this.queue=[],this.outcome=void 0,e!==o&&i.safely(this,e)}var r=e("./unwrap"),o=e("./INTERNAL"),i=e("./resolveThenable"),u=e("./states"),s=e("./queueItem");t.exports=n,n.prototype["catch"]=function(e){return this.then(null,e)},n.prototype.then=function(e,t){if("function"!=typeof e&&this.state===u.FULFILLED||"function"!=typeof t&&this.state===u.REJECTED)return this;var i=new n(o);if(this.state!==u.PENDING){var a=this.state===u.FULFILLED?e:t;r(i,a,this.outcome)}else this.queue.push(new s(i,e,t));return i}},{"./INTERNAL":21,"./queueItem":26,"./resolveThenable":30,"./states":31,"./unwrap":33}],26:[function(e,t){"use strict";function n(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}var r=e("./handlers"),o=e("./unwrap");t.exports=n,n.prototype.callFulfilled=function(e){r.resolve(this.promise,e)},n.prototype.otherCallFulfilled=function(e){o(this.promise,this.onFulfilled,e)},n.prototype.callRejected=function(e){r.reject(this.promise,e)},n.prototype.otherCallRejected=function(e){o(this.promise,this.onRejected,e)}},{"./handlers":23,"./unwrap":33}],27:[function(e,t){"use strict";function n(e){function t(e){i(e).then(function(e){a||(a=!0,s.resolve(f,e))},function(e){a||(a=!0,s.reject(f,e))})}if("[object Array]"!==Object.prototype.toString.call(e))return o(new TypeError("must be an array"));var n=e.length,a=!1;if(!n)return i([]);for(var c=-1,f=new r(u);++c<n;)t(e[c]);return f}var r=e("./promise"),o=e("./reject"),i=e("./resolve"),u=e("./INTERNAL"),s=e("./handlers");t.exports=n},{"./INTERNAL":21,"./handlers":23,"./promise":25,"./reject":28,"./resolve":29}],28:[function(e,t){"use strict";function n(e){var t=new r(o);return i.reject(t,e)}var r=e("./promise"),o=e("./INTERNAL"),i=e("./handlers");t.exports=n},{"./INTERNAL":21,"./handlers":23,"./promise":25}],29:[function(e,t){"use strict";function n(e){if(e)return e instanceof r?e:i.resolve(new r(o),e);var t=typeof e;switch(t){case"boolean":return u;case"undefined":return a;case"object":return s;case"number":return c;case"string":return f}}var r=e("./promise"),o=e("./INTERNAL"),i=e("./handlers");t.exports=n;var u=i.resolve(new r(o),!1),s=i.resolve(new r(o),null),a=i.resolve(new r(o),void 0),c=i.resolve(new r(o),0),f=i.resolve(new r(o),"")},{"./INTERNAL":21,"./handlers":23,"./promise":25}],30:[function(e,t,n){"use strict";function r(e,t){function n(t){s||(s=!0,o.reject(e,t))}function r(t){s||(s=!0,o.resolve(e,t))}function u(){t(r,n)}var s=!1,a=i(u);"error"===a.status&&n(a.value)}var o=e("./handlers"),i=e("./tryCatch");n.safely=r},{"./handlers":23,"./tryCatch":32}],31:[function(e,t,n){n.REJECTED=["REJECTED"],n.FULFILLED=["FULFILLED"],n.PENDING=["PENDING"]},{}],32:[function(e,t){"use strict";function n(e,t){var n={};try{n.value=e(t),n.status="success"}catch(r){n.status="error",n.value=r}return n}t.exports=n},{}],33:[function(e,t){"use strict";function n(e,t,n){r(function(){var r;try{r=t(n)}catch(i){return o.reject(e,i)}r===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,r)})}var r=e("immediate"),o=e("./handlers");t.exports=n},{"./handlers":23,immediate:34}],34:[function(e,t){"use strict";function n(){o=!0;for(var e,t,n=s.length;n;){for(t=s,s=[],e=-1;++e<n;)t[e]();n=s.length}o=!1}function r(e){1!==s.push(e)||o||i()}for(var o,i,u=[e("./nextTick"),e("./mutation.js"),e("./messageChannel"),e("./stateChange"),e("./timeout")],s=[],a=-1,c=u.length;++a<c;)if(u[a]&&u[a].test&&u[a].test()){i=u[a].install(n);break}t.exports=r},{"./messageChannel":35,"./mutation.js":36,"./nextTick":14,"./stateChange":37,"./timeout":38}],35:[function(e,t,n){var r="undefined"!=typeof self?self:"undefined"!=typeof window?window:{};n.test=function(){return r.setImmediate?!1:"undefined"!=typeof r.MessageChannel},n.install=function(e){var t=new r.MessageChannel;return t.port1.onmessage=e,function(){t.port2.postMessage(0)}}},{}],36:[function(e,t,n){var r="undefined"!=typeof self?self:"undefined"!=typeof window?window:{},o=r.MutationObserver||r.WebKitMutationObserver;n.test=function(){return o},n.install=function(e){var t=0,n=new o(e),i=r.document.createTextNode("");return n.observe(i,{characterData:!0}),function(){i.data=t=++t%2}}},{}],37:[function(e,t,n){var r="undefined"!=typeof self?self:"undefined"!=typeof window?window:{};n.test=function(){return"document"in r&&"onreadystatechange"in r.document.createElement("script")},n.install=function(e){return function(){var t=r.document.createElement("script");return t.onreadystatechange=function(){e(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},r.document.documentElement.appendChild(t),e}}},{}],38:[function(e,t,n){"use strict";n.test=function(){return!0},n.install=function(e){return function(){setTimeout(e,0)}}},{}],39:[function(e,t){"use strict";function n(e){if(!e)return"undefined";switch(typeof e){case"function":return e.toString();case"string":return e.toString();default:return JSON.stringify(e)}}var r=e("./upsert"),o=e("./utils"),i=o.Promise;t.exports=function(e){var t=e.db,u=e.viewName,s=e.map,a=e.reduce,c=e.temporary,f=e.pluginName,l=n(s)+n(a)+"undefined";if(!c&&t._cachedViews){var d=t._cachedViews[l];if(d)return i.resolve(d)}return t.info().then(function(e){function n(e){e.views=e.views||{};var t=u;-1===t.indexOf("/")&&(t=u+"/"+u);var n=e.views[t]=e.views[t]||{};if(!n[i])return n[i]=!0,e}var i=e.db_name+"-mrview-"+(c?"temp":o.MD5(l));return r(t,"_local/"+f,n).then(function(){return t.registerDependentDatabase(i).then(function(e){var n=e.db;n.auto_compaction=!0;var r={name:i,db:n,sourceDB:t,adapter:t.adapter,mapFun:s,reduceFun:a};return r.db.get("_local/lastSeq")["catch"](function(e){if(404!==e.status)throw e}).then(function(e){return r.seq=e?e.seq:0,c||(t._cachedViews=t._cachedViews||{},t._cachedViews[l]=r,r.db.on("destroyed",function(){delete t._cachedViews[l]})),r})})})})}},{"./upsert":42,"./utils":43}],40:[function(e,t){function n(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,n)}catch(t){}}function r(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,r)}catch(t){}}function o(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function i(e){return 1===e.length&&/^1-/.test(e[0].rev)}function u(e,t){var n=v(e.key,t.key);return 0!==n?n:v(e.value,t.value)}function s(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function a(e){var t=e.value,n=t&&"object"==typeof t&&t._id||e.id;return n}function c(e,t,n){try{return{output:t.apply(null,n)}}catch(r){return e.emit("error",r),{error:r}}}function f(e,t){var r=e.descending?"endkey":"startkey",o=e.descending?"startkey":"endkey";if("undefined"!=typeof e[r]&&"undefined"!=typeof e[o]&&v(e[r],e[o])>0)throw new n("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&e.reduce!==!1){if(e.include_docs)throw new n("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new n("Multi-key fetches for reduce views must use {group: true}")}if(e.group_level){if("number"!=typeof e.group_level)throw new n('Invalid value for integer: "'+e.group_level+'"');if(e.group_level<0)throw new n('Invalid value for positive integer: "'+e.group_level+'"')}}function l(e){return function(t){if(404===t.status)return e;throw t}}function d(e){function t(e,t,n){function r(){return i(d)?x.resolve(a):t.db.get(s)["catch"](l(a))}function o(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):x.resolve({rows:[]})}function u(e,t){for(var n=[],r={},o=0,i=t.rows.length;i>o;o++){var u=t.rows[o],s=u.doc;if(s&&(n.push(s),r[s._id]=!0,s._deleted=!f[s._id],!s._deleted)){var a=f[s._id];"value"in a&&(s.value=a.value)}}var c=Object.keys(f);return c.forEach(function(e){if(!r[e]){var t={_id:e},o=f[e];"value"in o&&(t.value=o.value),n.push(t)}}),e.keys=k.uniq(c.concat(e.keys)),n.push(e),n}var s="_local/doc_"+e,a={_id:s,keys:[]},c=n[e],f=c.indexableKeysToKeyValues,d=c.changes;return r().then(function(e){return o(e).then(function(t){return u(e,t)})})}function n(e,n,r){var o="_local/lastSeq";return e.db.get(o)["catch"](l({_id:o,seq:0})).then(function(o){var i=Object.keys(n);return x.all(i.map(function(r){return t(r,e,n)})).then(function(t){var n=k.flatten(t);return o.seq=r,n.push(o),e.db.bulkDocs({docs:n})})})}function d(e){var t="string"==typeof e?e:e.name,n=E[t];return n||(n=E[t]=new g),n}function p(e){return k.sequentialize(d(e),function(){return j(e)})()}function j(e){function t(e,t){var n={id:i._id,key:b(e)};"undefined"!=typeof t&&null!==t&&(n.value=b(t)),o.push(n)}function r(t,r){return function(){return n(e,t,r)}}var o,i,s=C(e.mapFun,t),a=e.seq||0,f=new g;return new x(function(t,n){function l(){f.finish().then(function(){e.seq=a,t()})}function d(){function t(e){n(e)}e.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:a,limit:O}).on("complete",function(t){var n=t.results;if(!n.length)return l();for(var p={},h=0,y=n.length;y>h;h++){var g=n[h];if("_"!==g.doc._id[0]){o=[],i=g.doc,i._deleted||c(e.sourceDB,s,[i]),o.sort(u);for(var v,b={},w=0,k=o.length;k>w;w++){var x=o[w],E=[x.key,x.id];x.key===v&&E.push(w);var _=m(E);b[_]=x,v=x.key}p[g.doc._id]={indexableKeysToKeyValues:b,changes:g.changes}}a=g.seq}return f.add(r(p,a)),n.length<O?l():d()}).on("error",t)}d()})}function A(e,t,n){0===n.group_level&&delete n.group_level;var r=n.group||n.group_level,o=D(e.reduceFun),i=[],u=n.group_level;t.forEach(function(e){var t=i[i.length-1],n=r?e.key:null;return r&&Array.isArray(n)&&"number"==typeof u&&(n=n.length>u?n.slice(0,u):n),t&&0===v(t.key[0][0],n)?(t.key.push([n,e.id]),void t.value.push(e.value)):void i.push({key:[[n,e.id]],value:[e.value]})});for(var a=0,f=i.length;f>a;a++){var l=i[a],d=c(e.sourceDB,o,[l.key,l.value,!1]);l.value=d.error?null:d.output,l.key=l.key[0][0]}return{rows:s(i,n.limit,n.skip)}}function I(e,t){return k.sequentialize(d(e),function(){return S(e,t)})()}function S(e,t){function n(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return o=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(n>t||t>n))return e.doc.value}var r=y.parseIndexableString(e.doc._id);return{key:r[0],id:r[1],value:"value"in e.doc?e.doc.value:null}})})}function r(n){var r;if(r=i?A(e,n,t):{total_rows:o,offset:u,rows:n},t.include_docs){var s=k.uniq(n.map(a));return e.sourceDB.allDocs({keys:s,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments}).then(function(e){var t={};return e.rows.forEach(function(e){e.doc&&(t["$"+e.id]=e.doc)}),n.forEach(function(e){var n=a(e),r=t["$"+n];r&&(e.doc=r)}),r})}return r}var o,i=e.reduceFun&&t.reduce!==!1,u=t.skip||0;"undefined"==typeof t.keys||t.keys.length||(t.limit=0,delete t.keys);var s=function(e){return e.reduce(function(e,t){return e.concat(t)})};if("undefined"!=typeof t.keys){var c=t.keys,f=c.map(function(e){var t={startkey:m([e]),endkey:m([e,{}])};return n(t)});return x.all(f).then(s).then(r)}var l={descending:t.descending};if("undefined"!=typeof t.startkey&&(l.startkey=m(t.descending?[t.startkey,{}]:[t.startkey])),"undefined"!=typeof t.endkey){var d=t.inclusive_end!==!1;t.descending&&(d=!d),l.endkey=m(d?[t.endkey,{}]:[t.endkey])}if("undefined"!=typeof t.key){var p=m([t.key]),h=m([t.key,{}]);l.descending?(l.endkey=p,l.startkey=h):(l.startkey=p,l.endkey=h)}return i||("number"==typeof t.limit&&(l.limit=t.limit),l.skip=u),n(l).then(r)}function $(e){return e.get("_local/"+N).then(function(t){var n={};Object.keys(t.views).forEach(function(e){var t=o(e),r="_design/"+t[0],i=t[1];n[r]=n[r]||{},n[r][i]=!0});var r={keys:Object.keys(n),include_docs:!0};return e.allDocs(r).then(function(r){var o={};r.rows.forEach(function(e){var r=e.key.substring(8);Object.keys(n[e.key]).forEach(function(n){var i=r+"/"+n;t.views[i]||(i=n);var u=Object.keys(t.views[i]),s=e.doc&&e.doc.views&&e.doc.views[n];u.forEach(function(e){o[e]=o[e]||s})})});var i=Object.keys(o).filter(function(e){return!o[e]}),u=i.map(function(t){return k.sequentialize(d(t),function(){return e.constructor.destroy(t,e.__opts)})()});return x.all(u).then(function(){return{ok:!0}})})},l({ok:!0}))}function q(e,t,n){if("string"!=typeof t){f(n,t);var i={db:e,viewName:"temp_view/temp_view",map:t.map,reduce:t.reduce,temporary:!0,pluginName:N};return _.add(function(){return w(i).then(function(e){function t(){return e.db.destroy()
}return k.fin(p(e).then(function(){return I(e,n)}),t)})}),_.finish()}var u=t,s=o(u),a=s[0],c=s[1];return e.get("_design/"+a).then(function(t){var o=t.views&&t.views[c];if(!o)throw new r("ddoc "+t._id+" has no view named "+c);T(t,c),f(n,o);var i={db:e,viewName:u,map:o.map,reduce:o.reduce,pluginName:N};return w(i).then(function(e){return"ok"===n.stale||"update_after"===n.stale?("update_after"===n.stale&&h.nextTick(function(){p(e)}),I(e,n)):p(e).then(function(){return I(e,n)})})})}var N=e.name,C=e.mapper,D=e.reducer,T=e.ddocValidator,F=function(e,t,n){var r=this;"function"==typeof t&&(n=t,t={}),t=k.extend(!0,{},t),"function"==typeof e&&(e={map:e});var o=x.resolve().then(function(){return q(r,e,t)});return k.promisedCallback(o,n),o},M=k.callbackify(function(){var e=this;return $(e)});return{query:F,viewCleanup:M}}var p,h=e("__browserify_process"),y=e("pouchdb-collate"),g=e("./taskqueue"),v=y.collate,m=y.toIndexableString,b=y.normalizeKey,w=e("./create-view");p="undefined"!=typeof console&&"function"==typeof console.log?Function.prototype.bind.call(console.log,console):function(){};var k=e("./utils"),x=k.Promise,E={},_=new g,O=50;k.inherits(n,Error),k.inherits(r,Error),t.exports=d},{"./create-view":39,"./taskqueue":41,"./utils":43,__browserify_process:16,"pouchdb-collate":44}],41:[function(e,t){"use strict";function n(){this.promise=new r(function(e){e()})}var r=e("./utils").Promise;n.prototype.add=function(e){return this.promise=this.promise["catch"](function(){}).then(function(){return e()}),this.promise},n.prototype.finish=function(){return this.promise},t.exports=n},{"./utils":43}],42:[function(e,t){"use strict";var n=e("pouchdb-upsert").upsert;t.exports=function(e,t,r){return n.apply(e,[t,r])}},{"pouchdb-upsert":47}],43:[function(e,t,n){var r=e("__browserify_process"),o="undefined"!=typeof self?self:"undefined"!=typeof window?window:{};n.Promise="function"==typeof o.Promise?o.Promise:e("lie"),n.inherits=e("inherits"),n.extend=e("pouchdb-extend");var i=e("argsarray");n.promisedCallback=function(e,t){return t&&e.then(function(e){r.nextTick(function(){t(null,e)})},function(e){r.nextTick(function(){t(e)})}),e},n.callbackify=function(e){return i(function(t){var r=t.pop(),o=e.apply(this,t);return"function"==typeof r&&n.promisedCallback(o,r),o})},n.fin=function(e,t){return e.then(function(e){var n=t();return"function"==typeof n.then?n.then(function(){return e}):e},function(e){var n=t();if("function"==typeof n.then)return n.then(function(){throw e});throw e})},n.sequentialize=function(e,t){return function(){var n=arguments,r=this;return e.add(function(){return t.apply(r,n)})}},n.flatten=function(e){for(var t=[],n=0,r=e.length;r>n;n++)t=t.concat(e[n]);return t},n.uniq=function(e){for(var t={},n=0,r=e.length;r>n;n++)t["$"+e[n]]=!0;var o=Object.keys(t),i=new Array(o.length);for(n=0,r=o.length;r>n;n++)i[n]=o[n].substring(1);return i};var u=e("crypto"),s=e("spark-md5");n.MD5=function(e){return r.browser?s.hash(e):u.createHash("md5").update(e).digest("hex")}},{__browserify_process:16,argsarray:13,crypto:14,inherits:20,lie:24,"pouchdb-extend":46,"spark-md5":48}],44:[function(e,t,n){"use strict";function r(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return f(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),r=t?e:Object.keys(e),o=-1,i=r.length,u="";if(t)for(;++o<i;)u+=n.toIndexableString(r[o]);else for(;++o<i;){var s=r[o];u+=n.toIndexableString(s)+n.toIndexableString(e[s])}return u}return""}function o(e,t){var n,r=t,o="1"===e[t];if(o)n=0,t++;else{var i="0"===e[t];t++;var u="",s=e.substring(t,t+d),a=parseInt(s,10)+l;for(i&&(a=-a),t+=d;;){var c=e[t];if("\x00"===c)break;u+=c,t++}u=u.split("."),n=1===u.length?parseInt(u,10):parseFloat(u[0]+"."+u[1]),i&&(n-=10),0!==a&&(n=parseFloat(n+"e"+a))}return{num:n,length:t-r}}function i(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(n);else if(i===e.length-2){var u=e.pop();o[u]=n}else e.push(n)}}function u(e,t){for(var r=Math.min(e.length,t.length),o=0;r>o;o++){var i=n.collate(e[o],t[o]);if(0!==i)return i}return e.length===t.length?0:e.length>t.length?1:-1}function s(e,t){return e===t?0:e>t?1:-1}function a(e,t){for(var r=Object.keys(e),o=Object.keys(t),i=Math.min(r.length,o.length),u=0;i>u;u++){var s=n.collate(r[u],o[u]);if(0!==s)return s;if(s=n.collate(e[r[u]],t[o[u]]),0!==s)return s}return r.length===o.length?0:r.length>o.length?1:-1}function c(e){var t=["boolean","number","string","object"],n=t.indexOf(typeof e);return~n?null===e?1:Array.isArray(e)?5:3>n?n+2:n+3:Array.isArray(e)?5:void 0}function f(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),r=0>e,o=r?"0":"2",i=(r?-n:n)-l,u=h.padLeft(i.toString(),"0",d);o+=p+u;var s=Math.abs(parseFloat(t[0]));r&&(s=10-s);var a=s.toFixed(20);return a=a.replace(/\.?0+$/,""),o+=p+a}var l=-324,d=3,p="",h=e("./utils");n.collate=function(e,t){if(e===t)return 0;e=n.normalizeKey(e),t=n.normalizeKey(t);var r=c(e),o=c(t);if(r-o!==0)return r-o;if(null===e)return 0;switch(typeof e){case"number":return e-t;case"boolean":return e===t?0:t>e?-1:1;case"string":return s(e,t)}return Array.isArray(e)?u(e,t):a(e,t)},n.normalizeKey=function(e){switch(typeof e){case"undefined":return null;case"number":return 1/0===e||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var r=e.length;e=new Array(r);for(var o=0;r>o;o++)e[o]=n.normalizeKey(t[o])}else{if(e instanceof Date)return e.toJSON();if(null!==e){e={};for(var i in t)if(t.hasOwnProperty(i)){var u=t[i];"undefined"!=typeof u&&(e[i]=n.normalizeKey(u))}}}}return e},n.toIndexableString=function(e){var t="\x00";return e=n.normalizeKey(e),c(e)+p+r(e)+t},n.parseIndexableString=function(e){for(var t=[],n=[],r=0;;){var u=e[r++];if("\x00"!==u)switch(u){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var s=o(e,r);t.push(s.num),r+=s.length;break;case"4":for(var a="";;){var c=e[r];if("\x00"===c)break;a+=c,r++}a=a.replace(/\u0001\u0001/g,"\x00").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(a);break;case"5":var f={element:[],index:t.length};t.push(f.element),n.push(f);break;case"6":var l={element:{},index:t.length};t.push(l.element),n.push(l);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+u)}else{if(1===t.length)return t.pop();i(t,n)}}}},{"./utils":45}],45:[function(e,t,n){"use strict";function r(e,t,n){for(var r="",o=n-e.length;r.length<o;)r+=t;return r}n.padLeft=function(e,t,n){var o=r(e,t,n);return o+e},n.padRight=function(e,t,n){var o=r(e,t,n);return e+o},n.stringLexCompare=function(e,t){var n,r=e.length,o=t.length;for(n=0;r>n;n++){if(n===o)return 1;var i=e.charAt(n),u=t.charAt(n);if(i!==u)return u>i?-1:1}return o>r?-1:0},n.intToDecimalForm=function(e){var t=0>e,n="";do{var r=t?-Math.ceil(e%10):Math.floor(e%10);n=r+n,e=t?Math.ceil(e/10):Math.floor(e/10)}while(e);return t&&"0"!==n&&(n="-"+n),n}},{}],46:[function(e,t){"use strict";function n(e){return null===e?String(e):"object"==typeof e||"function"==typeof e?a[d.call(e)]||"object":typeof e}function r(e){return null!==e&&e===e.window}function o(e){if(!e||"object"!==n(e)||e.nodeType||r(e))return!1;try{if(e.constructor&&!p.call(e,"constructor")&&!p.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}var o;for(o in e);return void 0===o||p.call(e,o)}function i(e){return"function"===n(e)}function u(){for(var e=[],t=-1,n=arguments.length,r=new Array(n);++t<n;)r[t]=arguments[t];var o={};e.push({args:r,result:{container:o,key:"key"}});for(var i;i=e.pop();)s(e,i.args,i.result);return o.key}function s(e,t,n){var r,u,s,a,c,f,l,d=t[0]||{},p=1,y=t.length,g=!1,v=/\d+/;for("boolean"==typeof d&&(g=d,d=t[1]||{},p=2),"object"==typeof d||i(d)||(d={}),y===p&&(d=this,--p);y>p;p++)if(null!=(r=t[p])){l=h(r);for(u in r)if(!(u in Object.prototype)){if(l&&!v.test(u))continue;if(s=d[u],a=r[u],d===a)continue;g&&a&&(o(a)||(c=h(a)))?(c?(c=!1,f=s&&h(s)?s:[]):f=s&&o(s)?s:{},e.push({args:[g,f,a],result:{container:d,key:u}})):void 0!==a&&(h(r)&&i(a)||(d[u]=a))}}n.container[n.key]=d}for(var a={},c=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],f=0;f<c.length;f++){var l=c[f];a["[object "+l+"]"]=l.toLowerCase()}var d=a.toString,p=a.hasOwnProperty,h=Array.isArray||function(e){return"array"===n(e)};t.exports=u},{}],47:[function(e,t,n){function r(e,t,n){return new i(function(r,i){return"string"!=typeof t?i(new Error("doc id is required")):void e.get(t,function(u,s){if(u){if(404!==u.status)return i(u);s={}}var a=n(s);return a?(a._id=t,a._rev=s._rev,void r(o(e,a,n))):r({updated:!1,rev:s._rev})})})}function o(e,t,n){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(o){if(409!==o.status)throw o;return r(e,t._id,n)})}var i,u="undefined"!=typeof self?self:"undefined"!=typeof window?window:{};i="undefined"!=typeof window&&window.PouchDB?window.PouchDB.utils.Promise:"function"==typeof u.Promise?u.Promise:e("lie"),n.upsert=function(e,t,n){var o=this,i=r(o,e,t);return"function"!=typeof n?i:void i.then(function(e){n(null,e)},n)},n.putIfNotExists=function(e,t,n){var o=this;"string"!=typeof e&&(n=t,t=e,e=t._id);var i=function(e){return e._rev?!1:t},u=r(o,e,i);return"function"!=typeof n?u:void u.then(function(e){n(null,e)},n)},"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(n)},{lie:24}],48:[function(e,t,n){!function(e){if("object"==typeof n)t.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var r;try{r=window}catch(o){r=self}r.SparkMD5=e()}}(function(){"use strict";var e=function(e,t){return e+t&4294967295},t=function(t,n,r,o,i,u){return n=e(e(n,t),e(o,u)),e(n<<i|n>>>32-i,r)},n=function(e,n,r,o,i,u,s){return t(n&r|~n&o,e,n,i,u,s)},r=function(e,n,r,o,i,u,s){return t(n&o|r&~o,e,n,i,u,s)},o=function(e,n,r,o,i,u,s){return t(n^r^o,e,n,i,u,s)},i=function(e,n,r,o,i,u,s){return t(r^(n|~o),e,n,i,u,s)},u=function(t,u){var s=t[0],a=t[1],c=t[2],f=t[3];s=n(s,a,c,f,u[0],7,-680876936),f=n(f,s,a,c,u[1],12,-389564586),c=n(c,f,s,a,u[2],17,606105819),a=n(a,c,f,s,u[3],22,-1044525330),s=n(s,a,c,f,u[4],7,-176418897),f=n(f,s,a,c,u[5],12,1200080426),c=n(c,f,s,a,u[6],17,-1473231341),a=n(a,c,f,s,u[7],22,-45705983),s=n(s,a,c,f,u[8],7,1770035416),f=n(f,s,a,c,u[9],12,-1958414417),c=n(c,f,s,a,u[10],17,-42063),a=n(a,c,f,s,u[11],22,-1990404162),s=n(s,a,c,f,u[12],7,1804603682),f=n(f,s,a,c,u[13],12,-40341101),c=n(c,f,s,a,u[14],17,-1502002290),a=n(a,c,f,s,u[15],22,1236535329),s=r(s,a,c,f,u[1],5,-165796510),f=r(f,s,a,c,u[6],9,-1069501632),c=r(c,f,s,a,u[11],14,643717713),a=r(a,c,f,s,u[0],20,-373897302),s=r(s,a,c,f,u[5],5,-701558691),f=r(f,s,a,c,u[10],9,38016083),c=r(c,f,s,a,u[15],14,-660478335),a=r(a,c,f,s,u[4],20,-405537848),s=r(s,a,c,f,u[9],5,568446438),f=r(f,s,a,c,u[14],9,-1019803690),c=r(c,f,s,a,u[3],14,-187363961),a=r(a,c,f,s,u[8],20,1163531501),s=r(s,a,c,f,u[13],5,-1444681467),f=r(f,s,a,c,u[2],9,-51403784),c=r(c,f,s,a,u[7],14,1735328473),a=r(a,c,f,s,u[12],20,-1926607734),s=o(s,a,c,f,u[5],4,-378558),f=o(f,s,a,c,u[8],11,-2022574463),c=o(c,f,s,a,u[11],16,1839030562),a=o(a,c,f,s,u[14],23,-35309556),s=o(s,a,c,f,u[1],4,-1530992060),f=o(f,s,a,c,u[4],11,1272893353),c=o(c,f,s,a,u[7],16,-155497632),a=o(a,c,f,s,u[10],23,-1094730640),s=o(s,a,c,f,u[13],4,681279174),f=o(f,s,a,c,u[0],11,-358537222),c=o(c,f,s,a,u[3],16,-722521979),a=o(a,c,f,s,u[6],23,76029189),s=o(s,a,c,f,u[9],4,-640364487),f=o(f,s,a,c,u[12],11,-421815835),c=o(c,f,s,a,u[15],16,530742520),a=o(a,c,f,s,u[2],23,-995338651),s=i(s,a,c,f,u[0],6,-198630844),f=i(f,s,a,c,u[7],10,1126891415),c=i(c,f,s,a,u[14],15,-1416354905),a=i(a,c,f,s,u[5],21,-57434055),s=i(s,a,c,f,u[12],6,1700485571),f=i(f,s,a,c,u[3],10,-1894986606),c=i(c,f,s,a,u[10],15,-1051523),a=i(a,c,f,s,u[1],21,-2054922799),s=i(s,a,c,f,u[8],6,1873313359),f=i(f,s,a,c,u[15],10,-30611744),c=i(c,f,s,a,u[6],15,-1560198380),a=i(a,c,f,s,u[13],21,1309151649),s=i(s,a,c,f,u[4],6,-145523070),f=i(f,s,a,c,u[11],10,-1120210379),c=i(c,f,s,a,u[2],15,718787259),a=i(a,c,f,s,u[9],21,-343485551),t[0]=e(s,t[0]),t[1]=e(a,t[1]),t[2]=e(c,t[2]),t[3]=e(f,t[3])},s=function(e){var t,n=[];for(t=0;64>t;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n},a=function(e){var t,n=[];for(t=0;64>t;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n},c=function(e){var t,n,r,o,i,a,c=e.length,f=[1732584193,-271733879,-1732584194,271733878];for(t=64;c>=t;t+=64)u(f,s(e.substring(t-64,t)));for(e=e.substring(t-64),n=e.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;n>t;t+=1)r[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(u(f,r),t=0;16>t;t+=1)r[t]=0;return o=8*c,o=o.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),a=parseInt(o[1],16)||0,r[14]=i,r[15]=a,u(f,r),f},f=function(e){var t,n,r,o,i,s,c=e.length,f=[1732584193,-271733879,-1732584194,271733878];for(t=64;c>=t;t+=64)u(f,a(e.subarray(t-64,t)));for(e=c>t-64?e.subarray(t-64):new Uint8Array(0),n=e.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;n>t;t+=1)r[t>>2]|=e[t]<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(u(f,r),t=0;16>t;t+=1)r[t]=0;return o=8*c,o=o.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),s=parseInt(o[1],16)||0,r[14]=i,r[15]=s,u(f,r),f},l=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],d=function(e){var t,n="";for(t=0;4>t;t+=1)n+=l[e>>8*t+4&15]+l[e>>8*t&15];return n},p=function(e){var t;for(t=0;t<e.length;t+=1)e[t]=d(e[t]);return e.join("")},h=function(e){return p(c(e))},y=function(){this.reset()};return"5d41402abc4b2a76b9719d911017c592"!==h("hello")&&(e=function(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}),y.prototype.append=function(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),this.appendBinary(e),this},y.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,n=this._buff.length;for(t=64;n>=t;t+=64)u(this._state,s(this._buff.substring(t-64,t)));return this._buff=this._buff.substr(t-64),this},y.prototype.end=function(e){var t,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;o>t;t+=1)i[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(i,o),n=e?this._state:p(this._state),this.reset(),n},y.prototype._finish=function(e,t){var n,r,o,i=t;if(e[i>>2]|=128<<(i%4<<3),i>55)for(u(this._state,e),i=0;16>i;i+=1)e[i]=0;n=8*this._length,n=n.toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(n[2],16),o=parseInt(n[1],16)||0,e[14]=r,e[15]=o,u(this._state,e)},y.prototype.reset=function(){return this._buff="",this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},y.prototype.destroy=function(){delete this._state,delete this._buff,delete this._length},y.hash=function(e,t){/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e)));var n=c(e);return t?n:p(n)},y.hashBinary=function(e,t){var n=c(e);return t?n:p(n)},y.ArrayBuffer=function(){this.reset()},y.ArrayBuffer.prototype.append=function(e){var t,n=this._concatArrayBuffer(this._buff,e),r=n.length;for(this._length+=e.byteLength,t=64;r>=t;t+=64)u(this._state,a(n.subarray(t-64,t)));return this._buff=r>t-64?n.subarray(t-64):new Uint8Array(0),this},y.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;o>t;t+=1)i[t>>2]|=r[t]<<(t%4<<3);return this._finish(i,o),n=e?this._state:p(this._state),this.reset(),n},y.ArrayBuffer.prototype._finish=y.prototype._finish,y.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},y.ArrayBuffer.prototype.destroy=y.prototype.destroy,y.ArrayBuffer.prototype._concatArrayBuffer=function(e,t){var n=e.length,r=new Uint8Array(n+t.byteLength);return r.set(e),r.set(new Uint8Array(t),n),r},y.ArrayBuffer.hash=function(e,t){var n=f(new Uint8Array(e));return t?n:p(n)},y})},{}]},{},[11]);